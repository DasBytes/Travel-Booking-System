{"ast":null,"code":"var _jsxFileName = \"G:\\\\tour-management\\\\tour-management\\\\frontend\\\\src\\\\pages\\\\updateCreateTour.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { BASE_URL } from './../utils/config';\nimport { Container, Form, Button } from 'reactstrap';\nimport '../styles/tourform.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TourForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [tourData, setTourData] = useState({\n    title: '',\n    desc: '',\n    price: '',\n    city: '',\n    distance: '',\n    maxGroupSize: '',\n    address: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (id) {\n      setLoading(true);\n      // Fetch existing tour data for editing\n      fetch(`${BASE_URL}/tours/${id}`).then(res => res.json()).then(data => {\n        setTourData(data.data);\n        setLoading(false);\n      }).catch(err => {\n        setError('Failed to load tour data');\n        setLoading(false);\n      });\n    }\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      const method = id ? 'PUT' : 'POST';\n      const endpoint = id ? `/tours/${id}` : '/tours';\n      const response = await fetch(`${BASE_URL}${endpoint}`, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(tourData)\n      });\n      if (!response.ok) {\n        const result = await response.json();\n        setError(result.message);\n        setLoading(false);\n        return;\n      }\n      alert('Tour saved successfully');\n      navigate('/admin');\n    } catch (error) {\n      setError('Error saving tour');\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTourData({\n      ...tourData,\n      [name]: value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: id ? 'Update Tour' : 'Create New Tour'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 23\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          value: tourData.title,\n          onChange: handleChange,\n          placeholder: \"Title\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"desc\",\n          value: tourData.desc,\n          onChange: handleChange,\n          placeholder: \"Description\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          value: tourData.price,\n          onChange: handleChange,\n          placeholder: \"Price\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"city\",\n          value: tourData.city,\n          onChange: handleChange,\n          placeholder: \"City\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"distance\",\n          value: tourData.distance,\n          onChange: handleChange,\n          placeholder: \"Distance\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"maxGroupSize\",\n          value: tourData.maxGroupSize,\n          onChange: handleChange,\n          placeholder: \"Max Group Size\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address\",\n          value: tourData.address,\n          onChange: handleChange,\n          placeholder: \"Address\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          color: \"primary\",\n          disabled: loading,\n          children: loading ? 'Saving...' : 'Save Tour'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(TourForm, \"OOnP1r5v4Kv00S0p1lqE6DsfGJk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = TourForm;\nexport default TourForm;\nvar _c;\n$RefreshReg$(_c, \"TourForm\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","BASE_URL","Container","Form","Button","TourForm","id","navigate","tourData","setTourData","title","desc","price","city","distance","maxGroupSize","address","loading","setLoading","error","setError","fetch","then","res","json","data","catch","err","handleSubmit","e","preventDefault","method","endpoint","response","headers","body","JSON","stringify","ok","result","message","alert","handleChange","name","value","target","color"],"sources":["G:/tour-management/tour-management/frontend/src/pages/updateCreateTour.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { BASE_URL } from './../utils/config';\r\nimport { Container, Form, Button } from 'reactstrap';\r\nimport '../styles/tourform.css';\r\n\r\nconst TourForm = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [tourData, setTourData] = useState({\r\n    title: '',\r\n    desc: '',\r\n    price: '',\r\n    city: '',\r\n    distance: '',\r\n    maxGroupSize: '',\r\n    address: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      setLoading(true);\r\n      // Fetch existing tour data for editing\r\n      fetch(`${BASE_URL}/tours/${id}`)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setTourData(data.data);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          setError('Failed to load tour data');\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const method = id ? 'PUT' : 'POST';\r\n      const endpoint = id ? `/tours/${id}` : '/tours';\r\n      const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(tourData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const result = await response.json();\r\n        setError(result.message);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      alert('Tour saved successfully');\r\n      navigate('/admin');\r\n    } catch (error) {\r\n      setError('Error saving tour');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setTourData({ ...tourData, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <Container>\r\n        <Form onSubmit={handleSubmit}>\r\n          <h1>{id ? 'Update Tour' : 'Create New Tour'}</h1>\r\n          {loading && <p>Loading...</p>}\r\n          {error && <p style={{ color: 'red' }}>{error}</p>}\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={tourData.title}\r\n            onChange={handleChange}\r\n            placeholder=\"Title\"\r\n            required\r\n          />\r\n          <textarea\r\n            name=\"desc\"\r\n            value={tourData.desc}\r\n            onChange={handleChange}\r\n            placeholder=\"Description\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            value={tourData.price}\r\n            onChange={handleChange}\r\n            placeholder=\"Price\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"city\"\r\n            value={tourData.city}\r\n            onChange={handleChange}\r\n            placeholder=\"City\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"distance\"\r\n            value={tourData.distance}\r\n            onChange={handleChange}\r\n            placeholder=\"Distance\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"maxGroupSize\"\r\n            value={tourData.maxGroupSize}\r\n            onChange={handleChange}\r\n            placeholder=\"Max Group Size\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            value={tourData.address}\r\n            onChange={handleChange}\r\n            placeholder=\"Address\"\r\n            required\r\n          />\r\n          <Button type=\"submit\" color=\"primary\" disabled={loading}>\r\n            {loading ? 'Saving...' : 'Save Tour'}\r\n          </Button>\r\n        </Form>\r\n      </Container>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TourForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}