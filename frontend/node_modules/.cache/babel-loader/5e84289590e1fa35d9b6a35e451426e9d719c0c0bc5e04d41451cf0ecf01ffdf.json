{"ast":null,"code":"var _jsxFileName = \"G:\\\\tour-management\\\\tour-management\\\\frontend\\\\src\\\\pages\\\\updateCreateTour.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { BASE_URL } from './../utils/config';\nimport { Container, Form, Button } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TourForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [tourData, setTourData] = useState({\n    title: '',\n    desc: '',\n    price: '',\n    city: '',\n    distance: '',\n    maxGroupSize: '',\n    address: ''\n  });\n  useEffect(() => {\n    if (id) {\n      // Fetch existing tour data for editing\n      fetch(`${BASE_URL}/tours/${id}`).then(res => res.json()).then(data => setTourData(data.data));\n    }\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const method = id ? 'PUT' : 'POST';\n      const endpoint = id ? `/tours/${id}` : '/tours';\n      const response = await fetch(`${BASE_URL}${endpoint}`, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(tourData)\n      });\n      if (!response.ok) {\n        const result = await response.json();\n        return alert(result.message);\n      }\n      alert('Tour saved successfully');\n      navigate('/admin');\n    } catch (error) {\n      console.error('Error saving tour:', error);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTourData({\n      ...tourData,\n      [name]: value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: id ? 'Update Tour' : 'Create New Tour'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          value: tourData.title,\n          onChange: handleChange,\n          placeholder: \"Title\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"desc\",\n          value: tourData.desc,\n          onChange: handleChange,\n          placeholder: \"Description\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          value: tourData.price,\n          onChange: handleChange,\n          placeholder: \"Price\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"city\",\n          value: tourData.city,\n          onChange: handleChange,\n          placeholder: \"City\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"distance\",\n          value: tourData.distance,\n          onChange: handleChange,\n          placeholder: \"Distance\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"maxGroupSize\",\n          value: tourData.maxGroupSize,\n          onChange: handleChange,\n          placeholder: \"Max Group Size\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address\",\n          value: tourData.address,\n          onChange: handleChange,\n          placeholder: \"Address\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          color: \"primary\",\n          children: \"Save Tour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(TourForm, \"gBZyo+YyLGNcHYur+58wySSqisk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = TourForm;\nexport default TourForm;\nvar _c;\n$RefreshReg$(_c, \"TourForm\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","BASE_URL","Container","Form","Button","TourForm","id","navigate","tourData","setTourData","title","desc","price","city","distance","maxGroupSize","address","fetch","then","res","json","data","handleSubmit","e","preventDefault","method","endpoint","response","headers","body","JSON","stringify","ok","result","alert","message","error","console","handleChange","name","value","target"],"sources":["G:/tour-management/tour-management/frontend/src/pages/updateCreateTour.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { BASE_URL } from './../utils/config';\r\nimport { Container, Form, Button } from 'reactstrap';\r\n\r\nconst TourForm = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [tourData, setTourData] = useState({\r\n    title: '',\r\n    desc: '',\r\n    price: '',\r\n    city: '',\r\n    distance: '',\r\n    maxGroupSize: '',\r\n    address: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      // Fetch existing tour data for editing\r\n      fetch(`${BASE_URL}/tours/${id}`)\r\n        .then((res) => res.json())\r\n        .then((data) => setTourData(data.data));\r\n    }\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const method = id ? 'PUT' : 'POST';\r\n      const endpoint = id ? `/tours/${id}` : '/tours';\r\n      const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(tourData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const result = await response.json();\r\n        return alert(result.message);\r\n      }\r\n\r\n      alert('Tour saved successfully');\r\n      navigate('/admin');\r\n    } catch (error) {\r\n      console.error('Error saving tour:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setTourData({ ...tourData, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <Container>\r\n        <Form onSubmit={handleSubmit}>\r\n          <h1>{id ? 'Update Tour' : 'Create New Tour'}</h1>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={tourData.title}\r\n            onChange={handleChange}\r\n            placeholder=\"Title\"\r\n            required\r\n          />\r\n          <textarea\r\n            name=\"desc\"\r\n            value={tourData.desc}\r\n            onChange={handleChange}\r\n            placeholder=\"Description\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            value={tourData.price}\r\n            onChange={handleChange}\r\n            placeholder=\"Price\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"city\"\r\n            value={tourData.city}\r\n            onChange={handleChange}\r\n            placeholder=\"City\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"distance\"\r\n            value={tourData.distance}\r\n            onChange={handleChange}\r\n            placeholder=\"Distance\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            name=\"maxGroupSize\"\r\n            value={tourData.maxGroupSize}\r\n            onChange={handleChange}\r\n            placeholder=\"Max Group Size\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            value={tourData.address}\r\n            onChange={handleChange}\r\n            placeholder=\"Address\"\r\n            required\r\n          />\r\n          <Button type=\"submit\" color=\"primary\">\r\n            Save Tour\r\n          </Button>\r\n        </Form>\r\n      </Container>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TourForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}